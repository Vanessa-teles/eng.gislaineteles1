/*
 * jQuery Scrollex
 * jquery.scrollex.min.js v0.2.1
 * License: MIT
 */
!function(t){function e(t,e,n){return t+(e-t)*n}function n(t,e){var n,o,i;return function(){n=arguments,o=this,i||(i=setTimeout(function(){t.apply(o,n),i=null},e))}}function o(t){var e,n;return function(){var o=this,i=arguments;e?clearTimeout(e):n=t.apply(o,i),e=setTimeout(function(){e=null},125),n}}var i=t(window),r=1,s={};i.on("scroll",o(function(){t.each(s,function(t){var n=this,o=i.scrollTop(),r=n.element.offset().top,s=n.element.outerHeight(),a=n.options,l=a.top,c=a.bottom,u=a.delay,f=a.scroll,d=a.enter,h=a.leave,p=a.initialize,g=a.terminate,m=a.mode,v=r+s*l,w=r+s*(1-c);if("top"==m){if(o<=v&&(n.state||n.initialState)){if(!n.state){n.state=!0;var y=function(){d&&d.apply(n.element)};u>0?n.timeoutId=setTimeout(y,u):y()}f&&f.apply(n.element,[e(0,1,Math.max(0,o-v)/(w-v))])}else n.state&&(n.state=!1,n.timeoutId&&(clearTimeout(n.timeoutId),n.timeoutId=null),h&&h.apply(n.element))}else{if(o>=w&&(n.state||n.initialState)){if(!n.state){n.state=!0;var y=function(){d&&d.apply(n.element)};u>0?n.timeoutId=setTimeout(y,u):y()}f&&f.apply(n.element,[e(0,1,Math.max(0,w-o)/(w-v))])}else n.state&&(n.state=!1,n.timeoutId&&(clearTimeout(n.timeoutId),n.timeoutId=null),h&&h.apply(n.element))}n.initialState=!1})})),t.fn.scrollex=function(e){var o=t(this);if(0==this.length)return o;if(this.length>1){for(var i=0;i<this.length;i++)t(this[i]).scrollex(e);return o}if(o.data("_scrollexId"))return o;var a,l,c=r++,u=t.extend({top:.5,bottom:.5,delay:0,mode:"default",enter:null,leave:null,scroll:null,initialize:null,terminate:null},e);return o.data("_scrollexId",c),s[c]={id:c,element:o,state:null,initialState:!0,options:u,timeoutId:null},u.initialize&&u.initialize.apply(o),o}}(jQuery);

